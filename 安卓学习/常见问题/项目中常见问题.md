

# 一、项目配置问题



## 1.配置和修改AS缓存路径

1.修改.android和.AndroidStudio相关的缓存路径可以参考 

https://blog.csdn.net/xx326664162/article/details/52004676 



## **配置gradle路径**

![1706683610175](项目中常见问题.assets/1706683610175.png)



## 2.Manifest出现屎黄色

在module的build.gradle的android{}里面添加 

```groovy
android{ 
    lintOptions { 
        disable 'GoogleAppIndexingWarning' 
    } 
}	
```



## 3.安装Apk出现问题 

新版本Android Studio运行APK时，出现DELETE_FAILED_INTERNAL_ERROR， Error while Installing 

APKs如何解决。 

有一种方法：打开settings，找到Build>Instant Run,把右边的勾去掉，再次尝试安装。 

## 4.解决build running速度慢的问题

在 .gradle目录下新建一个文件名为gradle.properties的文件 

添加以下内容 

```properties
org.gradle.daemon=true
```



**性能优化参考：** 

https://www.jianshu.com/p/d4790161c6e3 

切记，如果需要更新依赖或者下载虚拟机，最好不要勾选offline work 

## 5.AS扫描不到外部设备，无法在真机上运行 

1.在SDK manager里面下载google usb driver 

2.在资源管理器更新ADB INTERFACE驱动，并且选择在本地计算机上扫描，然后找到下载的USB Driver 文件夹，进行安装更新 

3.在安卓手机上：设置-》关于手机-》连续点击版本号会开启开发者模式 

然后在开发者模式选项里面开启USB调试即可 

（https://jingyan.baidu.com/article/c275f6ba71db93e33d75672b.html）



## 6.编译失败

### 1.添加国内镜像

```groovy
// Top-level build file where you can add configuration options common to all sub-projects/modules.
buildscript {
    repositories {
        maven { url 'https://maven.aliyun.com/repository/public' }
        maven { url 'https://maven.aliyun.com/repository/public' }
        maven { url 'https://maven.aliyun.com/repository/google' }
        maven { url 'https://maven.aliyun.com/repository/gradle-plugin' }
 
        google()
        mavenCentral()
        jcenter()
    }
    dependencies {
        classpath "com.android.tools.build:gradle:7.0.2"
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:1.5.20"
 
    }
}
 
 
 
task clean(type: Delete) {
    delete rootProject.buildDir
}

```

> 其他可能原因——https://blog.csdn.net/Asgard_Hu/article/details/130060484

### 2.Installed Build Tools revision 34.0.0 is corrupted. Remove and install again using the SDK Manager.

> **参考：**
>
>  [2022年最优解决方案Installed Build Tools revision 31.0.0 is corrupted_unity build-tool 31.0.0 is missing dx](https://blog.csdn.net/wq6ylg08/article/details/121882199) 

根据构建报错信息"34.0.0版本的构建工具缺少了`DX文件`"，以及StackOverflow的解决方案发现，34.0.0版本的构建工具缺少了"dx"和"dx.jar"这两文件，正确的做法就是复制对应路径的"d8"和"d8.jar"这两文件创建副本，并分别改名为"dx"和"dx.jar"，"d8"和"d8.jar"这两文件的大致路径为：

```
{path}\Android\Sdk\build-tools\34.0.0\d8
{path}\Android\Sdk\build-tools\34.0.0\lib\d8.jar
```



## 7.Adroid Gradle Plugin下载不下来

Android 的gradle要下载两个东西：

- **gradle**：`gradle->wrapper`中下载的内容
- **android gradle plugin**：项目下的`build.gradle`中指定的内容

> 两者的版本需要对应
>
> https://blog.csdn.net/djzhao627/article/details/100215805

这里我下载了8.0版本的gradle，然后下载gradle-plugin失败

![1706682291935](项目中常见问题.assets/1706682291935.png)

很奇怪，不知道为什么报这个错，镜像也添加了

**经过测试发现，在我.gradle缓存目录下的gradle.properties文件中设置了代理，删掉内容中的代理即可**

![1706683870335](项目中常见问题.assets/1706683870335.png)



# 二、开发问题

## 1.去掉action bar

修改`Manifest.xml`中`theme`为`NoActionBar`

```xml
<application
...
             android:theme="@style/Theme.AppCompat.NoActionBar"
             >
   .....
</application>
```



## 2.Button修改background为自定义drawable不生效？

> [background为自定义drawable](https://blog.csdn.net/Better_C/article/details/122850043)

```xml
<Button
 .....
        android:background="@drawable/shape_login"
        />
```

修改` res/values/themes.xml `中的

```xml
<!--修改为如下-->
<style name="Theme.VideoInfo" parent="Theme.MaterialComponents.DayNight.Bridge">
```



# 三、项目结构

### manifest.xml文件：

 AndroidManifest.xml 是 Android 应用程序中的一个重要文件，它包含了应用程序的元数据信息和配置。该文件在应用程序的根目录下，主要用途如下： 

 **应用声明：** 在 AndroidManifest.xml 文件中，您需要声明应用程序中的所有组件，例如活动（Activity）、服务（Service）、接收器（BroadcastReceiver）和内容提供者（ContentProvider）。这些声明告诉系统应用程序包含哪些组件以及如何与它们进行交互。 

```xml
<application>
    <activity android:name=".MainActivity">
        <!-- 活动的声明 -->
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
    <!-- 其他组件的声明 -->
</application>
```

 **权限声明：** AndroidManifest.xml 文件用于声明应用程序需要的系统权限。这些权限声明告诉用户应用程序需要访问某些敏感数据或执行某些敏感操作。用户在安装应用程序时会看到这些权限，并决定是否同意授予。 

```xml
<uses-permission android:name="android.permission.INTERNET" />
```

 **应用程序信息：** 在 AndroidManifest.xml 中，您可以指定应用程序的名称、图标、版本号等信息。 

```xml
<application
    android:label="@string/app_name"
    android:icon="@mipmap/ic_launcher"
    android:theme="@style/AppTheme">
    <!-- 其他应用程序信息 -->
</application>
```

 **应用程序配置：** AndroidManifest.xml 还用于配置应用程序的行为，例如启动模式、清单合并规则等。 

```xml
<activity
    android:name=".MainActivity"
    android:launchMode="singleTop">
    <!-- 其他活动配置 -->
</activity>
```









# drawable和mipmap

**drawable和mipmap**

https://blog.csdn.net/userzhanghao123/article/details/70243872 

手机屏幕适配和mipmap详解 

https://blog.csdn.net/lantiankongmo/article/details/50549128 