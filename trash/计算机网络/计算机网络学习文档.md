

# 一、概述

### 1.计算机网络是什么

> 计算机网络：是一个将分散的、具有独立功能的计算机系统，通过通信设备与线路连接起来，由功能完善的软件实现资源共享和信息传递的系统。

![image-20210905151636541](https://gitee.com/kevinyong/kevin-gallery/raw/master/image-20210905151636541.png)

计算机网络是互连的、自治的计算机集合：

- 互连--互联互通，通信链路
- 自治--无主从关系

### 2.计算机网络功能

- 数据通信
- 资源共享
- 分布式处理
- 提高可靠性
- 负载均衡

### 3.计算机网络的组成

**(1)组成部分来划分：硬件、软件、协议**

![image-20210905152140726](https://gitee.com/kevinyong/kevin-gallery/raw/master/image-20210905152140726.png)

**(2)工作方式来划分：**

- **边缘部分**：用户直接使用
  - C/S方式
  - P2P方式
- **核心部分**： 为边缘部分服务（路由器，交换机等）

![image-20210905152520399](https://gitee.com/kevinyong/kevin-gallery/raw/master/image-20210905152520399.png)

**(3)功能组成划分：**

- 通信子网 ： 实现数据通信
- 资源子网 ： 实现资源共享/数据处理

![image-20210905152837623](https://gitee.com/kevinyong/kevin-gallery/raw/master/image-20210905152837623.png)

### 4.计算机网络分类

**(1)按分布范围分：**

- 广域网WAN -- 交换技术
- 城域网MAN
- 局域网LAN -- 广播技术
- 个人区域网PAN

**(2)按使用者分**

- 公用网 -- 三大运营商等等
- 专用网 --- 政府、军队

**(3)按交换技术分**

- 电路交换
- 报文交换
- 分组交换

**(4)按拓扑结构分**

![image-20210905153449180](https://gitee.com/kevinyong/kevin-gallery/raw/master/image-20210905153449180.png)

![image-20210905153507189](https://gitee.com/kevinyong/kevin-gallery/raw/master/image-20210905153507189.png)

**(5)按传输技术分：**

- 广播式网络--共享公共通信信道
- 点对点网络--使用分组存储转发和路由选择机制

### *5.标准化

要实现不同厂商的硬、软件之间相互连通，就必须遵从统一的标准

**（1）标准的分类**

- 法定标准 ： 由权威机构制定的正式的、合法的标准（OSI）
- 事实标准 ： 某些公司的产品在竞争中占据了主流，时间一长，这些产品的协议和技术就成了标准（TCP/IP）

**(2)标准化工作相关组织**

![image-20210905154446439](https://gitee.com/kevinyong/kevin-gallery/raw/master/image-20210905154446439.png)



### 6.计算机网络性能指标

#### (1)速率

速率即数据率（数据传输率、比特率），是指连接在计算机网络上的主机在数字信道上传送数据位数的速率。

单位是：b/s , kb/s , Mb/s , Gb/s , Tb/s 

![image-20210905155435765](https://gitee.com/kevinyong/kevin-gallery/raw/master/image-20210905155435765.png)

**换算关系:**

![image-20210905155554909](https://gitee.com/kevinyong/kevin-gallery/raw/master/image-20210905155554909.png)

#### (2)带宽

计算机网络中，带宽用来表示网络的通信线路传送数据的能力，通常是指单位时间内从网络中的某一点到另一点所能通过的“最高数据率”。单位是“比特每秒”，b/s,kb/s,Mb/s,Gb/s.

![image-20210905160912737](https://gitee.com/kevinyong/kevin-gallery/raw/master/image-20210905160912737.png)

#### (3)吞吐量

表示单位时间内通过某个网络（或信道、接口）的数据量。单位b/s,kb/s,Mb/s等

吞吐量受网络的带宽或网络的额定速率的限制

![image-20210905161439081](https://gitee.com/kevinyong/kevin-gallery/raw/master/image-20210905161439081.png)

#### (4)时延

指数据(报文/分组/比特流)从网络(或链路)的一端传送到另一端所需的时间。也叫延迟或迟延。**单位是s**

时延也可以分为以下几类:

- 传输时延：是指把计算机数据放到信道上所需要的时间
- 传播时延：是指数据通过信道从一段传送到另一端所需要的的时间

![image-20210920144332348](https://gitee.com/kevinyong/kevin-gallery/raw/master/image-20210920144332348.png)

#### (5)时延带宽积

**时延带宽积(bit) = 传播时延(s)  x  带宽(b/s)**

![image-20210920144757931](https://gitee.com/kevinyong/kevin-gallery/raw/master/image-20210920144757931.png)



时延带宽积又称为以<font color='red'>比特为单位的链路长度</font>，即“某段链路现在有多少比特。





#### (6)往返时间RTT 

从发送方发送数据开始，到发送方收到接收方的确认，总共经历的时延。

可以通过ping 命令查看RTT

![image-20210920145105963](https://gitee.com/kevinyong/kevin-gallery/raw/master/image-20210920145105963.png)

![image-20210920145201851](https://gitee.com/kevinyong/kevin-gallery/raw/master/image-20210920145201851.png)

#### (7)利用率

![image-20210920145515532](https://gitee.com/kevinyong/kevin-gallery/raw/master/image-20210920145515532.png)

**利用率越高，则时延越长**



# 二、计算机网络分层结构

## 1.分层

**几个名词**

- **实体**：每一层活动的元素称为实体

- **协议**：每一层规则或约定称为协议，协议是水平方向的，只有对等实体才能协议

  > 协议满足三个条件：
  >
  > - 语法：规定传输数据的格式
  > - 语义：规定所要完成的功能
  > - 同步：规定各种操作的顺序

- **接口**：上层使用下层服务的入口

- **服务**：每两层之间提供的东西，上层是使用下层服务，下层为上层提供服务



从上层往下层传输过程中可以表示如下：

![image-20210920151749927](https://gitee.com/kevinyong/kevin-gallery/raw/master/image-20210920151749927.png)

> 其中：SDU服务数据单元：表示传送的数据
>
> ​			PCI协议控制信息：表示控制协议操作的信息
>
> ​			PDU协议数据单元：表示对等层次之间传送的数据单位(也是经过重新封装之后传往下一层的新数据体)

**分层结构**

计算机网络分层结构可以分为两种模型

- 7层OSI参考模型（法定标准）
- 4层TCP/IP参考模型（事实标准）
- 5层参考模型，综合前两者得出

![image-20210920152653048](https://gitee.com/kevinyong/kevin-gallery/raw/master/image-20210920152653048.png)







## 2.OSI 7层模型

目的：支持异构网络系统的互联互通

发布：国际标准化组织（ISO）于1984年提出开放系统互连（OSI）参考模型

![image-20210920153233881](https://gitee.com/kevinyong/kevin-gallery/raw/master/image-20210920153233881.png)

**①OSI参考模型通信过程**

![image-20210920153752363](https://gitee.com/kevinyong/kevin-gallery/raw/master/image-20210920153752363.png)

通过上图可以看到从电脑A到电脑B传输数据的过程要经历的过程，1.首先是A的数据经过层层包装最后通过物理层实体介质进行传输，2.然后在**中间系统**拆分数据到网络层面查看数据要发送往的位置，3.最后又层层包装通过物理层传输到电脑B。

### --应用层--

所有能和用户交互产生网络流量的程序，应用层为操作系统或网络应用程序提供访问网络服务的接口。

​	**典型的应用层服务和协议：**

- 文件传输(FTP)
- 电子邮件(SMTP)
- 万维网(HTTP)



### --表示层--

两个通信系统中交换信息的表示方式(语法和语义)

​	**主要功能：**

- 数据格式转换

  例如将二进制格式数据转换为jpg图片

- 数据加密解密

- 数据压缩和恢复



​	**主要协议：**

- ASCII
- JPEG



### --会话层--

向用户层实体/用户进程**提供建立连接**并在连接上有序地传输数据，**会话层不参与具体的传输**，它提供包括访问验证和会话管理在内的建立和维护应用之间通信的机制。如服务器验证用户登录便是由会话层完成的。



**主要功能**：

- 建立、管理、终止会话
- 使用校验点可以使会话在通信失效时从**校验点/同步点**继续恢复通信，实现数据同步（适用于传输大文件）



**主要协议**

ADSP、ASP



### --传输层--

**负责向两台主机进程之间的通信提供通用的数据传输服务**，即端到端的通信。传输单位是**报文**或**用户数据报**



**主要协议**

TCP、UDP



### --网络层--

主要任务是把**分组**从源端传送到目的端，为分组交换网上的不同主机提供通信服务，单位是**数据报**



### --数据链路层--

**两台主机之间的数据传输，总是在一段一段的链路上传送的，这就需要使用专门的链路层的协议。** 在两个相邻节点之间传送数据时，**数据链路层将网络层交下来的 IP 数据报组装程帧**，在两个相邻节点间的链路上传送帧。每一帧包括数据和必要的控制信息（如同步信息，地址信息，差错控制等）。

控制信息还使接收端能够检测到所收到的帧中有误差错。**如果发现差错，数据链路层就简单地丢弃这个出了差错的帧，以避免继续在网络中传送下去白白浪费网络资源。**如果需要改正数据在链路层传输时出现差错（这就是说，数据链路层不仅要检错，而且还要纠错），那么就要采用可靠性传输协议来纠正出现的差错。这种方法会使链路层的协议复杂些。

数据链路层在不可靠的物理介质上**提供可靠的传输**。该层的作用包括:物理地址寻址、数据的成帧、流量控制、数据的检错、重发等。**将比特组装成帧和点到点的传递**



#### 1.局域网LAN(Local Area Network)

是指某一区域内由多台计算机互联成的计算机组，使用广播**信道**

**拓扑结构**

![image-20210920172905471](https://gitee.com/kevinyong/kevin-gallery/raw/master/image-20210920172905471.png)

**IEEE 802标准**

是IEEE 802 LAN/MAN  标准委员会制定的局域网、城域网技术标准。

#### 2.以太网

是当今局域网采用的最通用的通信协议标准，使用**CSMA/CD技术**

以太网提供

- 无连接：发送方和接收方之间无“握手过程"
- 不可靠：不对发送方的数据帧编号，接收方不向发送方进行确认，差错帧直接丢弃，差错纠正由高层负责 

##### 适配器与MAC地址

- 适配器：计算机与外界有局域网的连接是通过**通信适配器**的。上面嵌入有**网卡**，适配器上面有**处理器（RAM）**和**存储器（ROM）**

- MAC地址

  > **ROM上有计算机硬件的地址MAC地址**
  >
  > 局域网中硬件地址又称为物理地址(MAC地址)，**该地址全球唯一**，
  >
  > 一共48位：前24位代表厂家(IEEE规定)，后24位厂家自己指定，通常6个十六进制数字



#### 3.链路层设备

- 网桥

  > 网桥根据MAC帧的目的地址对帧进行转发和过滤。当网桥收到一个帧时，并不向所有接口转发此帧，而是先检查此帧的目的MAC地址，然后在确定该帧转发到哪一个接口，或者把他过滤。

- 交换机

  > 由于网桥往往只有两个端口，所以交换机就出现了，交换机有十几个端口，可以**独占媒体带宽**

##### 冲突域和广播域

**冲突域**：是指同一时间只能有一台设备发送信息的范围

①通过`集线器`连接形成的冲突域

![image-20210920205652620](https://gitee.com/kevinyong/kevin-gallery/raw/master/image-20210920205652620.png)

②通过`交换机`形成的冲突域

![image-20210920205828390](https://gitee.com/kevinyong/kevin-gallery/raw/master/image-20210920205828390.png)



**广播域**：网络中能够接收任一设备发出的广播帧的所以设备的集合。简单地说如果站点发出一个广播信号，所以能够收到这个信号的设备称为一个广播域。



> 下图说明了：
>
> **路由器**连接的每一个端口构成的网络都可以形成广播域和冲突域
>
> 而**交换机**连接的每一个端口都可以构成一个冲突域
>
> **集线器**连接的所有端口的集合构成一个冲突域

![image-20210920210135498](https://gitee.com/kevinyong/kevin-gallery/raw/master/image-20210920210135498.png)



### --物理层--

主要是在物理媒体上实现比特流的透明传输，单位是**比特**。

#### 1.通信方式：

**单工通信：**只有一个方向的通信而没有反方向的交互，仅需要一条信道

**半双工通信：**通信双方都可以发送或接受信息，但任何一方都不能同时发送和接收，需要两条信道

**全双工通信：**通信双方可以同时发送和接受信息，也需要两条信道



#### 2.数据传输方式

**串行传输：**速度慢，费用低，适合远距离

**并行传输：**速度快，费用高，适合近距离

![image-20210920170126321](https://gitee.com/kevinyong/kevin-gallery/raw/master/image-20210920170126321.png)

#### 3.设备

**中继器：**对信号进行再生和还原，对衰减信号进行放大，保持与原数据相同，以增加信号传输距离，延长网络长度

**集线器（多口中继器）**：再生，放大信号

## 3.TCP/IP模型

从字面意义上讲，有人可能会认为 TCP/IP 是指 TCP 和 IP 两种协议。实际生活当中有时也确实就是指这两种协议。然而在很多情况下，它**只是利用 IP 进行通信时所必须用到的协议群的统称**。具体来说，IP 或 ICMP、TCP 或 UDP、TELNET 或 FTP、以及 HTTP 等都属于 TCP/IP 协议。他们与 TCP 或 IP 的关系紧密，是互联网必不可少的组成部分。TCP/IP 一词泛指这些协议，因此，有时也称 TCP/IP 为网际协议群。

![image-20210920163117015](https://gitee.com/kevinyong/kevin-gallery/raw/master/image-20210920163117015.png)





## 4.OSI 5层参考模型

综合了OSI参考模型和TCP/IP参考模型然后就得出了5层参考模型

![image-20210920164555673](https://gitee.com/kevinyong/kevin-gallery/raw/master/image-20210920164555673.png)



**五层参考模型数据封装与解封装**

![image-20210920164733624](https://gitee.com/kevinyong/kevin-gallery/raw/master/image-20210920164733624.png)